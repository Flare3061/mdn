<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>習作：MDN</title>
</head>
<body onselectstart="return false">
	<svg width = "900" height = "600" viewBox= "0 0 900 600">
		<rect x = "200" y = "300" width = "100"  height = "100" onclick = "le()" stroke = "black" fill = "#A9A9A9"/>
		<rect x = "350" y = "300" width = "100"  height = "100" onclick = "lf()" stroke = "black" fill = "#A9A9A9"/>
		<rect x = "500" y = "300" width = "100"  height = "100" onclick = "rf()" stroke = "black" fill = "#A9A9A9"/>
    	<rect x = "650" y = "300" width = "100"  height = "100" onclick = "ri()" stroke = "black" fill = "#A9A9A9"/>
		<rect x = "350" y = "450" width = "250"  height = "100" onclick = "re()"  stroke = "black" fill = "#FF8C00"/>
		<text x = "475" y = "515" onclick = "re()" text-anchor = "middle" font-size = "45" fill = "#000000">リセット</text>
		<rect x = "350" y = "100" width = "100"  height = "100" stroke = "black" fill = "#FFFFFF"/>
		<rect x = "500" y = "100" width = "100"  height = "100" stroke = "black" fill = "#FFFFFF"/>
		<text x = "400" y = "165" text-anchor = "middle" font-size = "45" id = "ace"></text>
		<text x = "475" y = "165" text-anchor = "middle" font-size = "45">D</text>
		<text x = "550" y = "165" text-anchor = "middle" font-size = "45" id = "deuce"></text>
		<circle cx = "250" cy = "500" r = "50" stroke = "green" fill = "#FFFFFF"/>
		<text x = "235" y = "515" font-size = "45" id = "left">3</text>
	</svg>
	<div style = "position : absolute; top : 600px; left : 360px; user-select: none">
		<span id = "button"><a href="https://twitter.com/share?&amp;text=MDNを揃えた！%0a&amp;url=https://flare3061.github.io/mdn/mdn.html" target = "_blank"><img src="tweetbutton.png" ></a></span>
	</div>
	<script>
		document.getElementById("button").style.visibility = "hidden";
		var lc = [1, 3, 6, 4];
		var rc = [1, 3, 6, 4];
		var ls = [5, 2];
		var rs = [5, 2];
		var last = 3;
		function lf(){
			if(last >= 1){
				lc.push(lc[0]);
				lc.shift();
				last -= 1;
				document.getElementById("left").textContent = last;
				if(last == 0){
					ch();
				}
			}
		}
		function rf(){
			if(last >= 1){
				rc.push(rc[0]);
				rc.shift();
				last -= 1;
				document.getElementById("left").textContent = last;
				if(last == 0){
					ch();
				}
			}
		}
		function le(){
			if(last >= 1){
				lc.splice(0, 0, ls[1])
				lc.splice(3, 0, ls[0])
				ls.splice(0, 0, lc[1])
				ls.splice(1, 0, lc[4])
				lc.splice(1, 1)
				lc.splice(3, 1)
				ls.splice(2, 2)
				rc.splice(0, 0, rs[1])
				rc.splice(3, 0, rs[0])
				rs.splice(0, 0, rc[1])
				rs.splice(1, 0, rc[4])
				rc.splice(1, 1)
				rc.splice(3, 1)
				rs.splice(2, 2)
				last -= 1;
				document.getElementById("left").textContent = last;
				if(last == 0){
					ch();
				}
			}
		}
		function ri(){
			if(last >= 1){
				lc.splice(0, 0, ls[0])
				lc.splice(3, 0, ls[1])
				ls.splice(0, 0, lc[4])
				ls.splice(1, 0, lc[1])
				lc.splice(1, 1)
				lc.splice(3, 1)
				ls.splice(2, 2)
				rc.splice(0, 0, rs[0])
				rc.splice(3, 0, rs[1])
				rs.splice(0, 0, rc[4])
				rs.splice(1, 0, rc[1])
				rc.splice(1, 1)
				rc.splice(3, 1)
				rs.splice(2, 2)
			last -= 1;
				document.getElementById("left").textContent = last;
				if(last == 0){
					ch();
				}
			}
		}
		function ch(){
			document.getElementById("ace").textContent = lc[0];
			document.getElementById("deuce").textContent = rc[0];
			if(document.getElementById("ace").textContent == 1){
				document.getElementById("ace").style.fill = "red";
			}
			else{
				document.getElementById("ace").style.fill = "black";
			}
			if(document.getElementById("deuce").textContent == 1){
				document.getElementById("deuce").style.fill = "red";
			}
			else{
				document.getElementById("deuce").style.fill = "black";
			}
			if(document.getElementById("ace").textContent == 2 && document.getElementById("deuce").textContent == 6){
				alert("Clear!!");
				document.getElementById("button").style.visibility = "visible";
			}
		}
		function re(){
			lc = [1, 3, 6, 4];
			rc = [1, 3, 6, 4];
			ls = [5, 2];
			rs = [5, 2];
			last = 3;
			document.getElementById("ace").textContent = "";
			document.getElementById("deuce").textContent = "";
			document.getElementById("left").textContent = last;
		}
		</script>
</body>
</html>
